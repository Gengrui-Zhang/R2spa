% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tspa.R
\name{tspa}
\alias{tspa}
\title{Two-Stage Path Analysis}
\usage{
tspa(model, data, reliability = NULL, se = NULL, ...)
}
\arguments{
\item{model}{A string variable describing the structural path model,
in \code{lavaan} syntax.}

\item{data}{A data frame containing factor scores.}

\item{reliability}{A numeric vector representing the reliability indexes
of each latent factor. Currently \code{tspa()} does not
support the reliability argument. Please use \code{se}.}

\item{se}{A numeric vector representing the standard errors of each latent
factor for single-group 2S-PA. A list or data frame storing
the standard errors of each group in each latent factor for
multigroup 2S-PA.}

\item{...}{Additional arguments passed to \code{\link[lavaan]{sem}}. See
\code{\link[lavaan]{lavOptions}} for a complete list.}
}
\value{
An object of class \code{lavaan}, with an attribute \code{tspaModel}
that contains the model syntax.
}
\description{
Fit a two-stage path analysis (2S-PA) model.
}
\examples{
library(lavaan)
### single-group example

# get factor scores
fs_dat_ind60 <- get_fs(data = PoliticalDemocracy,
                       model = "ind60 =~ x1 + x2 + x3")
fs_dat_dem60 <- get_fs(data = PoliticalDemocracy,
                       model = "dem60 =~ y1 + y2 + y3 + y4")
fs_dat <- cbind(fs_dat_ind60, fs_dat_dem60)

# tspa model
tspa(model = "dem60 ~ ind60", data = fs_dat,
     se = c(ind60 = 0.1213615, dem60 = 0.6756472))

### multigroup example

# get factor scores
fs_dat_visual <- get_fs(data = HolzingerSwineford1939,
                        model = "visual =~ x1 + x2 + x3",
                        group = "school")
fs_dat_speed <- get_fs(data = HolzingerSwineford1939,
                       model = "speed =~ x7 + x8 + x9",
                       group = "school")
fs_hs <- cbind(fs_dat_visual, fs_dat_speed)

\dontrun{
# tspa model
tspa(model = "visual ~ speed",
     data = fs_hs,
     se = data.frame(visual = c(0.3391326, 0.311828),
                     speed = c(0.2786875, 0.2740507)),
     group = "school",
     group.equal = "regressions")

# manually adding equality constraints on the regression coefficients
tspa(model = "visual ~ c(b1, b1) * speed",
     data = fs_hs,
     se = list(visual = c(0.3391326, 0.311828),
               speed = c(0.2786875, 0.2740507)),
     group = "school")
}
}
